<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Delete Modal</title>
    <link rel="stylesheet" href="frontend/src/style.css" />
  </head>
  <body>
    <div style="padding: 20px">
      <h1>Test Custom Delete Modal</h1>
      <button id="test-delete-btn" class="btn btn-danger">
        Test Delete Note
      </button>

      <!-- Custom Delete Confirmation Modal -->
      <div
        id="delete-confirmation-modal"
        class="modal-overlay"
        style="display: none"
      >
        <div class="modal-content">
          <div class="modal-header">
            <h3>üóëÔ∏è Delete Note</h3>
          </div>
          <div class="modal-body">
            <p>Are you sure you want to delete this note?</p>
            <p class="warning-text">This action cannot be undone.</p>
          </div>
          <div class="modal-actions">
            <button id="confirm-delete-btn" class="btn btn-danger">
              Delete
            </button>
            <button id="cancel-delete-btn" class="btn btn-secondary">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Test modal functionality
      const testDeleteBtn = document.getElementById("test-delete-btn");
      const deleteModal = document.getElementById("delete-confirmation-modal");
      const confirmDeleteBtn = document.getElementById("confirm-delete-btn");
      const cancelDeleteBtn = document.getElementById("cancel-delete-btn");

      function showDeleteModal() {
        deleteModal.style.display = "flex";
        cancelDeleteBtn.focus();
      }

      function hideDeleteModal() {
        deleteModal.style.display = "none";
      }

      function cancelDeleteNote() {
        console.log("Delete cancelled");
        hideDeleteModal();
      }

      function confirmDeleteNote() {
        console.log("Delete confirmed");
        alert("Note would be deleted (test mode)");
        hideDeleteModal();
      }

      // Event listeners
      testDeleteBtn.addEventListener("click", showDeleteModal);
      confirmDeleteBtn.addEventListener("click", confirmDeleteNote);
      cancelDeleteBtn.addEventListener("click", cancelDeleteNote);

      // Close modal when clicking outside
      deleteModal.addEventListener("click", (e) => {
        if (e.target === deleteModal) {
          cancelDeleteNote();
        }
      });

      // Keyboard support
      document.addEventListener("keydown", (e) => {
        if (deleteModal.style.display === "flex") {
          if (e.key === "Escape") {
            e.preventDefault();
            cancelDeleteNote();
          }
          if (e.key === "Enter") {
            e.preventDefault();
            confirmDeleteNote();
          }
        }
      });
    </script>
  </body>
</html>
